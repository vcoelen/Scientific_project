<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="niryo_arm">


    <xacro:include filename="$(find custom_robot_udmey)/urdf/niryo_arm_model.urdf.xacro"/>
    <!-- Tool link to base gripper-->
    <link name="base_gripper">
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://custom_robot_udmey/urdf/meshes/gripper_1/base_gripper_1.STL"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://custom_robot_udmey/urdf/meshes/gripper_1/base_gripper_1.STL"/>
            </geometry>    
        </collision>
        <inertial>
            <origin xyz="0.0028582 0.0022204 0.023772" rpy="0.0 0.0 0.0"/>
            <mass value="0.001"/>
            <inertia ixx="1E-06" iyy="1E-06" izz="1E-06" ixy="0.0" ixz="0.0"  iyz="0.0"/>
        </inertial>
    </link>

    <joint name="joint_to_gripper" type="fixed">
        <parent link="tool_link"/>
        <child link="base_gripper"/>
        <origin xyz="0.0 0.0 0.0" rpy="0 ${PI/2} ${PI/2}"/>
    </joint>


    <!--base gripper to Claw_1-->
    <link name="gripper_claw_1">
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://custom_robot_udmey/urdf/meshes/gripper_1/mors_1.STL"/>
            </geometry>
            <material name="">
                <color rgba="0.49804 0.49804 0.49804 1"/>
            </material>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://custom_robot_udmey/urdf/meshes/gripper_1/mors_1.STL"/>
            </geometry>    
        </collision>
        <inertial>
            <origin xyz="-0.0049739 0.0067393 -0.023929" rpy="0.0 0.0 0.0"/>
            <mass value="0.0067248"/>
            <inertia ixx="1.1778E-06" iyy="1.3054E-06" izz="4.3534E-07" ixy="-2.1129E-08" ixz="1.0185E-07"  iyz="1.7669E-07"/>
        </inertial>
    </link>

    <joint name="base_gripper_to_gripper_claw_1" type="prismatic">
        <parent link="base_gripper"/>
        <child link="gripper_claw_1"/>
        <origin xyz="0.01455 -0.0796 0.0096137" rpy="1.5708 0 0"/>
        <axis xyz="0 1 0"/>
        <limit lower="-0.01" upper="0.01" effort="1" velocity="5"/>
    </joint> 

    <!--gripper_Claw_1 to Claw_2-->
    <link name="gripper_claw_2">
        <visual>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://custom_robot_udmey/urdf/meshes/gripper_1/mors_2.STL"/>
            </geometry>
        </visual>
        <collision>
            <origin xyz="0.0 0.0 0.0" rpy="0.0 0.0 0.0"/>
            <geometry>
                <mesh filename="package://custom_robot_udmey/urdf/meshes/gripper_1/mors_2.STL"/>
            </geometry>    
        </collision>
        <inertial>
            <origin xyz="-0.0049739 0.0067393 -0.023929" rpy="0.0 0.0 0.0"/>
            <mass value="0.0067248"/>
            <inertia ixx="1.1778E-06" iyy="1.3054E-06" izz="4.3534E-07" ixy="2.1129E-08" ixz="1.0185E-07"  iyz="-1.7669E-07"/>
        </inertial>
    </link>

    <joint name="base_gripper_to_gripper_claw_2" type="prismatic">
        <parent link="base_gripper"/>
        <child link="gripper_claw_2"/>
        <origin xyz="0.01455 -0.0796 -0.011066" rpy="1.5708 0 0"/>
        <axis xyz="0 -1 0"/>
        <limit lower="-0.01" upper="0.01" effort="1" velocity="5"/>
    </joint>


     <!-- to control claw-->
    <gazebo>
        <plugin name="passive_joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so">

            <jointName>joint_1, joint_2, joint_3, joint_4, joint_5, joint_6,base_gripper_to_gripper_claw_1, base_gripper_to_gripper_claw_2</jointName>
            <updateRate>50.0</updateRate>
            <alwaysOn>true</alwaysOn>
        </plugin>
    </gazebo>

</robot>